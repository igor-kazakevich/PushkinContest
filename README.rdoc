Описание протокола pushkin-contest

Суть соревнования - первым успеть дать ответ на задание, связанное сo стихами А. С. Пушкина =)
В соревновании учавствуют только сервера, размещенные на heroku.



Регистрация

При регистрации на сайте pushkin-contest.ror.by пользователь должен указать свое имя (USERNAME) и адрес
  своего приложения (APP_URL).
  Принимаются только приложения, имеющие адреса вида 'http://myapp.herokuapp.com'.
  В процессе регистрации высылается token пользователя на адрес 'APP_URL/registration'.
  Запрос имеет тип POST:
  
  params[:question] - тестовый вопрос
  params[:token] - токен пользователя (USER_TOKEN), который необходимо сохранить и использовать в
    дальнейшем при отправке заданий.

  Токен представляет собой строку вида '7baced8d61aa5d47e0a7059c1ceaa4ba'

  Пример тестового задания:
    Вопрос: 'Буря %WORD% небо кроет, Вихри снежные крутя'
    Ответ пользователя: {answer: 'мглою'}

  Отправить ответ можно следующим образом:
    render json: {answer: 'мглою'}



Задания

После регистрации сервер будет отправлять задания по адресу APP_URL/quiz.
  Запросы имеют тип POST. Ответ пользователя должен быть пустым со статусом 2XX.
  Пример: render nothing: true. Ответ на задание посылается отдельным HTTP запросом.

Пример вопроса:
  Вопрос:
    {
      "question" => "Отчизны внемлем призыванье",
      "id"       => 6595, # TASK_ID
      "level"    => 1,
    }

  Ответ:
    {
      "answer"  => "К Чeдаеву",
      "token"   => USER_TOKEN,
      "task_id" => TASK_ID
    }

Ответ пользователя должен быть послан следующим образом:
  uri = URI("http://pushkin-contest.ror.by/quiz")
  parameters = {
    answer: 'ваш ответ',
    token: 'USER_TOKEN (см. процесс регистрации)',
    task_id:  'id задачи (передано ранее)'
  }
    
  Net::HTTP.post_form(uri, parameters)

Сервер проверяет правильность выполнения задания и начисляет пользователю 1 балл рейтинга,
  если он ответил первым. Затем генерируется новое задание соответствующего уровня и
  посылается всем пользователям этого уровня.




Пользователи также имеют систему уровней, уровень определяется рейтингом пользователя. Пользователю
  отсылаются задания только его уровня сложности.

Уровни сложности

Задания, генерируемые сервером, имеют 8 уровней сложности:
  1)Вопрос: одна строчка из любого стихотворения. Ответ: название стихотворения.

  2)Вопрос: одна строчка из любого стихотворения c одним замененным словом (слово заменяется на %WORD%)
    Ответ: замененное слово.

  3)Вопрос: две строчки подряд из одного произведения замененным словом в каждой (слово заменяется на
    %WORD%, с помощью \n) Ответ: два замененных слова в порядке следования строк через запятую.

  4)Вопрос: три строчки подряд из одного произведенияиз c одним замененным словом в каждой (слово заменяется
    на %WORD%, строчки отделяются друг от друга с помощью \n) Ответ: три замененных слова в порядке
    следования строк через запятую.

  5)Вопрос: одна строчка из любого стихотворения c одним замененным словом (слово заменяется на любое слово,
    выбранное из стихотворений Пушкина) Ответ: правильное слово и его замененный варинт через запятую.

  6)Вопрос: одна строчка из любого стихотворения, без знаков препинания, в которых переставлены местами буквы
    в рамках каждого слова. Ответ: правильная строка.

  7)Вопрос: одна строчка из любого стихотворения, без знаков препинания, в которых переставлены местами буквы
    в рамках всей строчки. Ответ: правильная строка.

  8)Вопрос: одна строчка из любого стихотворения, без знаков препинания, в которых переставлены местами буквы в
    рамках всей строчки и 1 буква заменена. Ответ: правильная строка.
